/** *dianping.com Inc *Copyright(c)2004-2016 All Rights Reserved. */package com.dianping.event.servcie;import com.dianping.event.entity.DailyReportInfo;import com.dianping.event.entity.ReportAggregationStateTracker;import com.dianping.merchant.communication.message.service.MerchantAccountService;import org.springframework.beans.factory.annotation.Autowired;import java.util.List;/** * @author zhangjie * @version $Id: StateCheckService.java, v 0.1 2016-04-11 下午4:04 zhangjie Exp $$ */public class StateCheckService {    @Autowired    private MerchantAccountService merchantAccountService;    public boolean checkComplete(ReportAggregationStateTracker tracker) {        List<Integer> shopIds = merchantAccountService.getShopsByAccountId(tracker.getShopAccountId());        int count = shopIds.size();        int counter = 0;        for (DailyReportInfo d : tracker.getDailyReportInfoList()) {            if (shopIds.contains(d.getShopId())) {                counter++;            }        }        if (count == counter) {            tracker.setComplete(true);            return true;        }        return false;    }}